fragment Author on Author {
  id
  bio
  birth
  email
  firstName
  lastName
  phone
  profession
  university
  cycle
  detail
  facebook
  linkedin
  github
  keywords
  address
  cv {
    url
  }
  photos {
    url
  }
}

query getHomeData($stage: Stage!, $email: String!) {

  author(where: { email: $email }, stage: $stage) {
    ...Author
  }

  certificationsConnection(stage: $stage) {
    aggregate {
      count
    }
  }

  projectsConnection(stage: $stage) {
    aggregate {
      count
    }
  }

  postsConnection(stage: $stage) {
    aggregate {
      count
    }
  }
}
